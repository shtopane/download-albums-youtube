{"version":3,"sources":["./src/app/album/containers/album-outlet/album-outlet.component.html","./src/app/album/containers/album/album.component.html","./src/app/album/album-routing.module.ts","./src/app/album/album.module.ts","./src/app/album/containers/album-outlet/album-outlet.component.scss","./src/app/album/containers/album-outlet/album-outlet.component.ts","./src/app/album/containers/album/album.component.scss","./src/app/album/containers/album/album.component.ts"],"names":[],"mappings":"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","file":"album-album-module.js","sourcesContent":["export default \"<router-outlet></router-outlet>\"","export default \"<section id=\\\"playlist\\\" *ngIf=\\\"playlist$ | async as playlist\\\">\\r\\n  <h2>{{playlist?.albumName}}</h2>\\r\\n  <app-list-playlist [playlist]=\\\"playlist\\\" (listen)=\\\"onListenClicked($event);\\\" (download)=\\\"onDownloadClicked($event);\\\"\\r\\n    (downloadZip)=\\\"onDownloadZipClicked($event);\\\"></app-list-playlist>\\r\\n</section>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AlbumComponent } from './containers/album/album.component';\r\nimport { AlbumOutletComponent } from './containers/album-outlet/album-outlet.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '', component: AlbumOutletComponent, children: [\r\n      { path: '', component: AlbumComponent }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AlbumRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AlbumRoutingModule } from './album-routing.module';\r\nimport { AlbumComponent } from './containers/album/album.component';\r\nimport { AlbumOutletComponent } from './containers/album-outlet/album-outlet.component';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [AlbumComponent, AlbumOutletComponent],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    AlbumRoutingModule\r\n  ]\r\n})\r\nexport class AlbumModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FsYnVtL2NvbnRhaW5lcnMvYWxidW0tb3V0bGV0L2FsYnVtLW91dGxldC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-album-outlet',\r\n  templateUrl: './album-outlet.component.html',\r\n  styleUrls: ['./album-outlet.component.scss']\r\n})\r\nexport class AlbumOutletComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FsYnVtL2NvbnRhaW5lcnMvYWxidW0vYWxidW0uY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, AfterViewInit, OnDestroy } from '@angular/core';\r\n\r\nimport { Observable, fromEvent, Subject } from 'rxjs';\r\nimport { tap, takeUntil } from 'rxjs/operators';\r\n\r\nimport { Playlist, PlaylistItem } from 'shared-models/common';\r\n\r\nimport { environment } from 'src/environments/environment';\r\nimport { PlaylistService } from 'src/app/shared/services/playlist/playlist.service';\r\nimport { PlaylistItemInfo } from 'src/app/shared/components/list-playlist/playlist-item/playlist-item.component';\r\n\r\n@Component({\r\n  selector: 'app-album',\r\n  templateUrl: './album.component.html',\r\n  styleUrls: ['./album.component.scss']\r\n})\r\nexport class AlbumComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  public playlist$: Observable<Playlist>;\r\n  public playlistItemsArr: PlaylistItem[];\r\n  public isMobile: boolean;\r\n\r\n  protected destroySubs = new Subject<boolean>();\r\n\r\n  constructor(\r\n    private sliceDownloadAlbumService: PlaylistService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    fromEvent(window, 'resize').pipe(\r\n      tap(() => this.determineIsMobile()),\r\n      takeUntil(this.destroySubs)\r\n    ).subscribe();\r\n\r\n    this.playlist$ = this.sliceDownloadAlbumService.getLocalPlaylist();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.determineIsMobile();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroySubs.next(true);\r\n    this.destroySubs.complete();\r\n  }\r\n\r\n  public onDownloadClicked(songInfo: PlaylistItemInfo): void {\r\n    console.log(songInfo);\r\n    encodeURIComponent\r\n    const url = `${environment.serverUrl}/download?isPlaylist=false&albumName=${encodeURIComponent(songInfo.title)}&songName=${encodeURIComponent(songInfo.playlistItemName)}`;\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  public onListenClicked(songInfo: PlaylistItemInfo): void {\r\n    console.log('listen', songInfo.title, songInfo.playlistItemName);\r\n    const url = `${environment.serverUrl}/listen?isPlaylist=false&albumName=${encodeURIComponent(songInfo.title)}&songName=${encodeURIComponent(songInfo.playlistItemName)}`;\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  public onDownloadZipClicked(albumName: string): void {\r\n    const url = `${environment.serverUrl}/downloadZip?isPlaylist=false&albumName=${encodeURIComponent(albumName)}`;\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  protected determineIsMobile(): void {\r\n    this.isMobile = window.document.body.clientWidth <= 640 ? true : false;\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}