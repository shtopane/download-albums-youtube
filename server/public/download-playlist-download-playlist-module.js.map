{"version":3,"sources":["./src/app/download-playlist/containers/download-playlist/download-playlist.component.html","./src/app/download-playlist/containers/download-playlist/download-playlist.component.scss","./src/app/download-playlist/containers/download-playlist/download-playlist.component.ts","./src/app/download-playlist/download-playlist-routing.module.ts","./src/app/download-playlist/download-playlist.module.ts"],"names":[],"mappings":"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","file":"download-playlist-download-playlist-module.js","sourcesContent":["export default \"<form [formGroup]=\\\"downloadPlaylistForm\\\">\\r\\n  <app-url-input controlName=\\\"url\\\" [parent]=\\\"downloadPlaylistForm\\\" placeholder=\\\"Put a Youtube playlist or channel url\\\"\\r\\n    (send)=\\\"onSubmit();\\\"></app-url-input>\\r\\n</form>\\r\\n<app-list-playlist [playlist]=\\\"playlist\\\" (listen)=\\\"onListenClicked($event);\\\" (download)=\\\"onDownloadClicked($event);\\\"\\r\\n  (downloadZip)=\\\"onDownloadZipClicked($event);\\\">\\r\\n</app-list-playlist>\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rvd25sb2FkLXBsYXlsaXN0L2NvbnRhaW5lcnMvZG93bmxvYWQtcGxheWxpc3QvZG93bmxvYWQtcGxheWxpc3QuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\n\r\nimport { PlaylistResponse, Playlist } from 'shared-models/common';\r\n\r\nimport { PlaylistService } from 'src/app/shared/services/playlist/playlist.service';\r\nimport { LoaderService } from 'src/app/shared/services/loader/loader.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { PlaylistItemInfo } from 'src/app/shared/components/list-playlist/playlist-item/playlist-item.component';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-download-playlist',\r\n  templateUrl: './download-playlist.component.html',\r\n  styleUrls: ['./download-playlist.component.scss']\r\n})\r\nexport class DownloadPlaylistComponent implements OnInit {\r\n  public downloadPlaylistForm: FormGroup;\r\n  public playlist: Playlist;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private playlistService: PlaylistService,\r\n    private loaderService: LoaderService\r\n  ) { }\r\n\r\n  public get url() {\r\n    return this.downloadPlaylistForm ? this.downloadPlaylistForm.get('url') : undefined;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.downloadPlaylistForm = this.fb.group({\r\n      url: ['', Validators.required]\r\n    });\r\n\r\n    // this.playlist = {\r\n    //   albumName: 'Test Playlists',\r\n    //   playlist: [\r\n    //     {\r\n    //       startTime: '1:30',\r\n    //       name: 'The Underground Youth - Alice (Official Video)'\r\n    //     },\r\n    //     {\r\n    //       startTime: '1:30',\r\n    //       name: 'Test Song'\r\n    //     },\r\n    //   ]\r\n    // }\r\n  }\r\n\r\n  public onSubmit() {\r\n    if (this.downloadPlaylistForm.valid) {\r\n      this.loaderService.showLoader();\r\n\r\n      this.playlistService.downloadYotubePlaylist(this.url.value).subscribe((res: PlaylistResponse) => {\r\n        this.loaderService.hideLoader();\r\n        if (res.success) {\r\n          this.playlist = res;\r\n        }\r\n\r\n        console.log('Playlist data', this.playlist);\r\n      },\r\n        error => {\r\n          this.loaderService.hideLoader();\r\n          console.log('download playlist submit error', error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  public onDownloadClicked(songInfo: PlaylistItemInfo): void {\r\n    const url = `${environment.serverUrl}/download?isPlaylist=true&albumName=${encodeURIComponent(songInfo.title)}&songName=${encodeURIComponent(songInfo.playlistItemName)}`;\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  public onListenClicked(songInfo: PlaylistItemInfo): void {\r\n    console.log('listen', songInfo.title, songInfo.playlistItemName);\r\n    const url = `${environment.serverUrl}/listen?isPlaylist=true&albumName=${encodeURIComponent(songInfo.title)}&songName=${encodeURIComponent(songInfo.playlistItemName)}`;\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  public onDownloadZipClicked(albumName: string): void {\r\n    const url = `${environment.serverUrl}/downloadZip?isPlaylist=true&albumName=${encodeURIComponent(albumName)}`;\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { DownloadPlaylistComponent } from './containers/download-playlist/download-playlist.component';\r\n\r\nconst routes: Routes = [\r\n    { path: '', component: DownloadPlaylistComponent }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class DownloadPlaylistRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DownloadPlaylistRoutingModule } from './download-playlist-routing.module';\r\nimport { DownloadPlaylistComponent } from './containers/download-playlist/download-playlist.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n@NgModule({\r\n    declarations: [DownloadPlaylistComponent],\r\n    imports: [\r\n        ReactiveFormsModule,\r\n        SharedModule,\r\n        CommonModule,\r\n        DownloadPlaylistRoutingModule\r\n    ]\r\n})\r\nexport class DownloadPlaylistModule { }\r\n"],"sourceRoot":"webpack:///"}